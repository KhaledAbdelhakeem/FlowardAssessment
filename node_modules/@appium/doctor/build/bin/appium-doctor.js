"use strict";

require("source-map-support/register");

var _yargs = _interopRequireDefault(require("yargs"));

var _factory = _interopRequireDefault(require("../lib/factory"));

var _utils = require("../lib/utils");

var _prompt = require("../lib/prompt");

var _support = require("@appium/support");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

_yargs.default.strict().usage('Usage: $0 [options, defaults: --ios --android]').boolean('ios').describe('ios', 'Check iOS setup').boolean('android').describe('android', 'Check Android setup').boolean('dev').describe('dev', 'Check dev setup').boolean('debug').describe('debug', 'Show debug messages').boolean('yes').describe('yes', 'Always respond yes').boolean('no').describe('no', 'Always respond no').boolean('demo').describe('demo', 'Run appium-doctor demo (for dev).').help('h').alias('h', 'help').check(function (argv) {
  if (!argv.ios && !argv.android && !argv.demo) {
    argv.ios = _support.system.isMac();
    argv.android = true;
  }

  return true;
});

let opts = Object.assign({
  general: true
}, _yargs.default.argv);
(0, _prompt.configure)(opts);
(0, _utils.configureBinaryLog)(opts);
(0, _factory.default)(opts).run().catch(function (e) {
  console.error(e);
  process.exit(1);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ5YXJncyIsInN0cmljdCIsInVzYWdlIiwiYm9vbGVhbiIsImRlc2NyaWJlIiwiaGVscCIsImFsaWFzIiwiY2hlY2siLCJhcmd2IiwiaW9zIiwiYW5kcm9pZCIsImRlbW8iLCJzeXN0ZW0iLCJpc01hYyIsIm9wdHMiLCJPYmplY3QiLCJhc3NpZ24iLCJnZW5lcmFsIiwiY29uZmlndXJlUHJvbXB0IiwiY29uZmlndXJlQmluYXJ5TG9nIiwibmV3RG9jdG9yIiwicnVuIiwiY2F0Y2giLCJlIiwiY29uc29sZSIsImVycm9yIiwicHJvY2VzcyIsImV4aXQiXSwic291cmNlcyI6WyIuLi8uLi9iaW4vYXBwaXVtLWRvY3Rvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyB0cmFuc3BpbGU6bWFpblxuXG5pbXBvcnQgeWFyZ3MgZnJvbSAneWFyZ3MnO1xuaW1wb3J0IG5ld0RvY3RvciBmcm9tICcuLi9saWIvZmFjdG9yeSc7XG5pbXBvcnQge2NvbmZpZ3VyZUJpbmFyeUxvZ30gZnJvbSAnLi4vbGliL3V0aWxzJztcbmltcG9ydCB7Y29uZmlndXJlIGFzIGNvbmZpZ3VyZVByb21wdH0gZnJvbSAnLi4vbGliL3Byb21wdCc7XG5pbXBvcnQge3N5c3RlbX0gZnJvbSAnQGFwcGl1bS9zdXBwb3J0JztcblxueWFyZ3NcbiAgLnN0cmljdCgpXG4gIC51c2FnZSgnVXNhZ2U6ICQwIFtvcHRpb25zLCBkZWZhdWx0czogLS1pb3MgLS1hbmRyb2lkXScpXG4gIC5ib29sZWFuKCdpb3MnKVxuICAuZGVzY3JpYmUoJ2lvcycsICdDaGVjayBpT1Mgc2V0dXAnKVxuICAuYm9vbGVhbignYW5kcm9pZCcpXG4gIC5kZXNjcmliZSgnYW5kcm9pZCcsICdDaGVjayBBbmRyb2lkIHNldHVwJylcbiAgLmJvb2xlYW4oJ2RldicpXG4gIC5kZXNjcmliZSgnZGV2JywgJ0NoZWNrIGRldiBzZXR1cCcpXG4gIC5ib29sZWFuKCdkZWJ1ZycpXG4gIC5kZXNjcmliZSgnZGVidWcnLCAnU2hvdyBkZWJ1ZyBtZXNzYWdlcycpXG4gIC5ib29sZWFuKCd5ZXMnKVxuICAuZGVzY3JpYmUoJ3llcycsICdBbHdheXMgcmVzcG9uZCB5ZXMnKVxuICAuYm9vbGVhbignbm8nKVxuICAuZGVzY3JpYmUoJ25vJywgJ0Fsd2F5cyByZXNwb25kIG5vJylcbiAgLmJvb2xlYW4oJ2RlbW8nKVxuICAuZGVzY3JpYmUoJ2RlbW8nLCAnUnVuIGFwcGl1bS1kb2N0b3IgZGVtbyAoZm9yIGRldikuJylcbiAgLmhlbHAoJ2gnKVxuICAuYWxpYXMoJ2gnLCAnaGVscCcpXG4gIC5jaGVjayhmdW5jdGlvbiAoYXJndikge1xuICAgIGlmICghYXJndi5pb3MgJiYgIWFyZ3YuYW5kcm9pZCAmJiAhYXJndi5kZW1vKSB7XG4gICAgICBhcmd2LmlvcyA9IHN5c3RlbS5pc01hYygpO1xuICAgICAgYXJndi5hbmRyb2lkID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH0pO1xuXG4vLyBtYWtlIHN1cmUgd2UgdXNlIHRoZSBnZW5lcmFsIGNoZWNrcyBmb3IgZXZlcnkgdGVzdFxubGV0IG9wdHMgPSBPYmplY3QuYXNzaWduKFxuICB7XG4gICAgZ2VuZXJhbDogdHJ1ZSxcbiAgfSxcbiAgeWFyZ3MuYXJndlxuKTtcblxuY29uZmlndXJlUHJvbXB0KG9wdHMpO1xuY29uZmlndXJlQmluYXJ5TG9nKG9wdHMpO1xubmV3RG9jdG9yKG9wdHMpXG4gIC5ydW4oKVxuICAuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKGUpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICBwcm9jZXNzLmV4aXQoMSk7XG4gIH0pO1xuIl0sIm1hcHBpbmdzIjoiOzs7O0FBRUE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7QUFFQUEsY0FBQSxDQUNHQyxNQURILEdBRUdDLEtBRkgsQ0FFUyxnREFGVCxFQUdHQyxPQUhILENBR1csS0FIWCxFQUlHQyxRQUpILENBSVksS0FKWixFQUltQixpQkFKbkIsRUFLR0QsT0FMSCxDQUtXLFNBTFgsRUFNR0MsUUFOSCxDQU1ZLFNBTlosRUFNdUIscUJBTnZCLEVBT0dELE9BUEgsQ0FPVyxLQVBYLEVBUUdDLFFBUkgsQ0FRWSxLQVJaLEVBUW1CLGlCQVJuQixFQVNHRCxPQVRILENBU1csT0FUWCxFQVVHQyxRQVZILENBVVksT0FWWixFQVVxQixxQkFWckIsRUFXR0QsT0FYSCxDQVdXLEtBWFgsRUFZR0MsUUFaSCxDQVlZLEtBWlosRUFZbUIsb0JBWm5CLEVBYUdELE9BYkgsQ0FhVyxJQWJYLEVBY0dDLFFBZEgsQ0FjWSxJQWRaLEVBY2tCLG1CQWRsQixFQWVHRCxPQWZILENBZVcsTUFmWCxFQWdCR0MsUUFoQkgsQ0FnQlksTUFoQlosRUFnQm9CLG1DQWhCcEIsRUFpQkdDLElBakJILENBaUJRLEdBakJSLEVBa0JHQyxLQWxCSCxDQWtCUyxHQWxCVCxFQWtCYyxNQWxCZCxFQW1CR0MsS0FuQkgsQ0FtQlMsVUFBVUMsSUFBVixFQUFnQjtFQUNyQixJQUFJLENBQUNBLElBQUksQ0FBQ0MsR0FBTixJQUFhLENBQUNELElBQUksQ0FBQ0UsT0FBbkIsSUFBOEIsQ0FBQ0YsSUFBSSxDQUFDRyxJQUF4QyxFQUE4QztJQUM1Q0gsSUFBSSxDQUFDQyxHQUFMLEdBQVdHLGVBQUEsQ0FBT0MsS0FBUCxFQUFYO0lBQ0FMLElBQUksQ0FBQ0UsT0FBTCxHQUFlLElBQWY7RUFDRDs7RUFDRCxPQUFPLElBQVA7QUFDRCxDQXpCSDs7QUE0QkEsSUFBSUksSUFBSSxHQUFHQyxNQUFNLENBQUNDLE1BQVAsQ0FDVDtFQUNFQyxPQUFPLEVBQUU7QUFEWCxDQURTLEVBSVRqQixjQUFBLENBQU1RLElBSkcsQ0FBWDtBQU9BLElBQUFVLGlCQUFBLEVBQWdCSixJQUFoQjtBQUNBLElBQUFLLHlCQUFBLEVBQW1CTCxJQUFuQjtBQUNBLElBQUFNLGdCQUFBLEVBQVVOLElBQVYsRUFDR08sR0FESCxHQUVHQyxLQUZILENBRVMsVUFBVUMsQ0FBVixFQUFhO0VBQ2xCQyxPQUFPLENBQUNDLEtBQVIsQ0FBY0YsQ0FBZDtFQUNBRyxPQUFPLENBQUNDLElBQVIsQ0FBYSxDQUFiO0FBQ0QsQ0FMSCJ9