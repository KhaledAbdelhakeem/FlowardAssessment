{"version":3,"file":"prompt.js","names":["persistentResponse","fixItQuestion","type","name","message","choices","filter","val","toLowerCase","configure","opts","yes","no","clear","undefined","fixIt","resp","inquirer","prompt","confirmation"],"sources":["../../lib/prompt.js"],"sourcesContent":["import {inquirer} from './utils';\n\nlet persistentResponse;\n\nconst fixItQuestion = {\n  type: 'list',\n  name: 'confirmation',\n  message: 'Fix it:',\n  choices: ['yes', 'no', 'always', 'never'],\n  filter(val) {\n    return val.toLowerCase();\n  },\n};\n\nfunction configure(opts) {\n  if (opts.yes) {\n    persistentResponse = 'yes';\n  }\n  if (opts.no) {\n    persistentResponse = 'no';\n  }\n}\n\nfunction clear() {\n  persistentResponse = undefined;\n}\n\nasync function fixIt() {\n  if (persistentResponse) {\n    return persistentResponse;\n  }\n  let resp = await inquirer.prompt(fixItQuestion);\n  persistentResponse = resp.confirmation === 'always' ? 'yes' : persistentResponse;\n  persistentResponse = resp.confirmation === 'never' ? 'no' : persistentResponse;\n  return persistentResponse || resp.confirmation;\n}\n\nexport {configure, fixIt, clear};\n"],"mappings":";;;;;;;;;;;AAAA;;AAEA,IAAIA,kBAAJ;AAEA,MAAMC,aAAa,GAAG;EACpBC,IAAI,EAAE,MADc;EAEpBC,IAAI,EAAE,cAFc;EAGpBC,OAAO,EAAE,SAHW;EAIpBC,OAAO,EAAE,CAAC,KAAD,EAAQ,IAAR,EAAc,QAAd,EAAwB,OAAxB,CAJW;;EAKpBC,MAAM,CAACC,GAAD,EAAM;IACV,OAAOA,GAAG,CAACC,WAAJ,EAAP;EACD;;AAPmB,CAAtB;;AAUA,SAASC,SAAT,CAAmBC,IAAnB,EAAyB;EACvB,IAAIA,IAAI,CAACC,GAAT,EAAc;IACZX,kBAAkB,GAAG,KAArB;EACD;;EACD,IAAIU,IAAI,CAACE,EAAT,EAAa;IACXZ,kBAAkB,GAAG,IAArB;EACD;AACF;;AAED,SAASa,KAAT,GAAiB;EACfb,kBAAkB,GAAGc,SAArB;AACD;;AAED,eAAeC,KAAf,GAAuB;EACrB,IAAIf,kBAAJ,EAAwB;IACtB,OAAOA,kBAAP;EACD;;EACD,IAAIgB,IAAI,GAAG,MAAMC,eAAA,CAASC,MAAT,CAAgBjB,aAAhB,CAAjB;EACAD,kBAAkB,GAAGgB,IAAI,CAACG,YAAL,KAAsB,QAAtB,GAAiC,KAAjC,GAAyCnB,kBAA9D;EACAA,kBAAkB,GAAGgB,IAAI,CAACG,YAAL,KAAsB,OAAtB,GAAgC,IAAhC,GAAuCnB,kBAA5D;EACA,OAAOA,kBAAkB,IAAIgB,IAAI,CAACG,YAAlC;AACD"}