{"version":3,"file":"env.js","names":["EnvVarAndPathCheck","DoctorCheck","constructor","varName","diagnose","varValue","process","env","nok","fs","exists","ok","fix","bold"],"sources":["../../lib/env.js"],"sourcesContent":["import {fs} from '@appium/support';\nimport {DoctorCheck} from './doctor';\nimport {ok, nok} from './utils';\nimport '@colors/colors';\n\n// Check env variables\nclass EnvVarAndPathCheck extends DoctorCheck {\n  constructor(varName) {\n    super();\n    this.varName = varName;\n  }\n\n  async diagnose() {\n    let varValue = process.env[this.varName];\n    if (typeof varValue === 'undefined') {\n      return nok(`${this.varName} environment variable is NOT set!`);\n    }\n    return (await fs.exists(varValue))\n      ? ok(`${this.varName} is set to: ${varValue}`)\n      : nok(`${this.varName} is set to '${varValue}' but this is NOT a valid path!`);\n  }\n\n  fix() {\n    return (\n      `Make sure the environment variable ${this.varName.bold} is properly configured for the Appium process. ` +\n      `Refer https://github.com/appium/java-client/blob/master/docs/environment.md for more details.`\n    );\n  }\n}\n\nexport default EnvVarAndPathCheck;\n"],"mappings":";;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AAGA,MAAMA,kBAAN,SAAiCC,mBAAjC,CAA6C;EAC3CC,WAAW,CAACC,OAAD,EAAU;IACnB;IACA,KAAKA,OAAL,GAAeA,OAAf;EACD;;EAEa,MAARC,QAAQ,GAAG;IACf,IAAIC,QAAQ,GAAGC,OAAO,CAACC,GAAR,CAAY,KAAKJ,OAAjB,CAAf;;IACA,IAAI,OAAOE,QAAP,KAAoB,WAAxB,EAAqC;MACnC,OAAO,IAAAG,UAAA,EAAK,GAAE,KAAKL,OAAQ,mCAApB,CAAP;IACD;;IACD,OAAO,CAAC,MAAMM,WAAA,CAAGC,MAAH,CAAUL,QAAV,CAAP,IACH,IAAAM,SAAA,EAAI,GAAE,KAAKR,OAAQ,eAAcE,QAAS,EAA1C,CADG,GAEH,IAAAG,UAAA,EAAK,GAAE,KAAKL,OAAQ,eAAcE,QAAS,iCAA3C,CAFJ;EAGD;;EAEDO,GAAG,GAAG;IACJ,OACG,sCAAqC,KAAKT,OAAL,CAAaU,IAAK,kDAAxD,GACC,+FAFH;EAID;;AArB0C;;eAwB9Bb,kB"}